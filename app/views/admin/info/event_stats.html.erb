<% title "Event Statistics" %>

<h1><%= yield(:title) %></h1>

<%= line_chart admin_group_stats_charts_path, title: "Groups", xtitle: "Week 20 is SYG", legend: "bottom" %>

<br/>

<%= line_chart admin_participant_stats_charts_path, title: "Participants", xtitle: "Week 20 is SYG", legend: "bottom" %>

<br/>

<%= line_chart admin_sport_entry_stats_charts_path, title: "Sport Entries", xtitle: "Week 20 is SYG", legend: "bottom" %>

<br/>

<%= line_chart admin_volunteer_stats_charts_path, title: "Volunteer Vacancies", xtitle: "Week 20 is SYG", legend: "bottom" %>

<br/>

<div class="accordion" id="stats_accordion">
  <div class="accordion-item">
    <h2 class="accordion-header" id="stats_heading">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#stats_collapse" aria-expanded="false" aria-controls="stats_collapse">
        Full Data Table (click to expand)
      </button>
    </h2>
    <div id="stats_collapse" class="accordion-collapse collapse" aria-labelledby="stats_heading" data-bs-parent="#stats_accordion">
      <div class="accordion-body">
        <table class="table table-dark table-striped">
          <thead>
            <tr>
                <th>Year</th>
                <th>Weeks to SYG</th>
                <th>Groups</th>
                <th>Participants</th>
                <th>Sport Entries</th>
                <th>Volunteer Vacancies</th>
            </tr>
          </thead>

          <%= render partial: 'event_stats', collection: @event_stats %>
        </table>
      </div>
    </div>
  </div>
</div>
